# Тестовое задание для OneTwoTrip.
## Здесь содержатся оба задания.

Задание номер один (про обработку сообщений):
В этом каталоге большую часть занимают файлы данного задания. Для запуска нужно написать команду 
`npm start`
или
`npm start local`
В этом случае приложение запустится в обычном режиме: задержка при отправке сообщения и логгирование большинства действий.
Для тестирования нагрузки необходимо написать
`npm start test`
В этом случае отсутствуют задержки в отправке сообщений, а также я имел наглость слегка изменить функцию, которая была дана в задании - для тестов убрал таймаут на обработку ответа.
Для просмотра ошибок
`npm start getErrors`
Выведет массив ошибок на момент запуска.

Как и необходимо было - реализация на ES5 без сторонних библиотек кроме redis, нет обработчиков завершения процесса.
Можно запускать сколько угодно инстансов - первый запущенный будет отправлять сообщения, остальные, соответственно, будут их получать и обрабатывать. Обрывать любой процесс можно (и нужно) в любой момент времени - другой запущенный процесс прекратит отправлять сообщения и станет их рассылать.
Приложение обработало свыше миллиона сообщений примерно за 15-20 минут (в режиме test, без задержек).

Если нужно изменить задержку отправки сообщений, то необходимо поменять строчку delay.publish в env конфигах. Там же и настройки redis.
Если нужен полный лог во время тестов, то необходимо удалить условие в методе `debug` в `/lib/log`

Задание номер два (про вывод элементов матрицы)
Скрипт запускается 
`node matrix_test_task.js <n>`
Где n определяет размер матрицы (2n - 1). По умолчанию n = 4.